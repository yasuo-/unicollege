{% extends "base.html" %}

{% block title %}
  {{ object.title }}
{% endblock %}


{% block content %}
  <div style="padding-top: 40px"></div>
  <div class="row">
    <div style="position: relative; padding-top: 56.25%;">
      <iframe src="https://iframe.videodelivery.net/ebed1d24969ee240c9fbf144be505f38?muted=true&preload=true"
              style="border: none; position: absolute; top: 0; height: 100%; width: 100%;"
              allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
              allowfullscreen="true"></iframe>
    </div>
    <div class="card-panel alcaramel"  style="margin-bottom: 150px">
      <h5>詳細</h5>
      <hr>
      <div style="margin-top: 20px;margin-bottom: 20px">
        <p class="">{{ object.title }}</p>
        <span class="">提供者：{{ object.instructor.username }}</span>
      </div>

      <hr>
      <div style="margin-top: 20px;margin-bottom: 20px">
        <span class="">{{ object.overview|linebreaks }}</span>
      </div>

      <hr>
      <div class="row">
        <h6>モジュール一覧</h6>
        <div class="collection">
          {% for m in object.modules.all %}
            <a href="{% url "students:student_course_detail_module" object.id m.id %}"
               class="collection-item {% if m == module %}active{% endif %}">
            <span>
              モジュール <span class="order">{{ m.order|add:1 }}</span>
            </span>
              {{ m.title }}
              {% for completed in completed_list %}
                {% if m == completed.module %}
                <span><i class="material-icons right">check_circle</i></span>
                {% endif %}
              {% endfor %}
            </a>

          {% empty %}
            <li>No modules yet.</li>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>


  <div class="module">
    {% for content in module.contents.all %}
      {% with item=content.item %}
        <h2>{{ item.title }}</h2>
        {{ item.render }}
      {% endwith %}
    {% endfor %}
  </div>
{% endblock %}
